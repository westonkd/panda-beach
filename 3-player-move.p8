pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
function _init()
  actors = {
    player(64, 112, 1)
  }
end

function _update()
  for actor in all(actors) do
    actor:update()
  end
end

function _draw()
  cls()
  rectfill(0,0,128,128,12)
  map(0,0,0,0)

  for actor in all(actors) do
    actor:draw()
  end
end

player = function(x, y, sprite)
  local p_table = {}

  p_table.position = { x = x, y = y }
  p_table.sprite = sprite

  p_table.update = function(this)
    -- if the left key is pressed
    if btn(0) then
      this.position.x -= 1
    end

    -- if the right key is pressed
    if btn(1) then
      this.position.x += 1
    end
  end
  
  p_table.draw = function(this)
    spr(this.sprite, this.position.x, this.position.y)
  end

  return p_table
end

__gfx__
0000000000500500ffffffffcccccccc006666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000777700ffffffffcccccccc067777600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070005757550ffffffffcccccccc677777760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700005777750ffffffffcccccccc677777760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000555500ffffffffcccccccc677777760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000777700f5f5f5f5cccccccc677777760000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005775005f5f5f5fcccccccc067777600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000050050055555555cccccccc006666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
